# Test file for variable interpolation

# Basic interpolation
USER=john
HOME=/home/john
GREETING="Hello ${USER}!"
PATH_TO_HOME="${HOME}/documents"

# Default values
APP_NAME="MyApp"
WELCOME_MESSAGE="Welcome to ${APP_NAME:-DefaultApp}"
PORT="${SERVER_PORT:-3000}"
DATABASE="${DB_NAME:-myapp_dev}"

# Complex interpolation
BASE_URL="https://api.example.com"
API_VERSION="v2"
FULL_API_URL="${BASE_URL}/${API_VERSION}"
USER_ENDPOINT="${FULL_API_URL}/users/${USER_ID:-123}"

# Nested interpolation
HELLO="Hello"
WORLD="World"
HELLO_WORLD="${HELLO} ${WORLD}"
NESTED_GREETING="${HELLO_WORLD}, welcome!"

# Interpolation with special characters
SPECIAL_CHARS="${USER}@${DOMAIN:-example.com}"
PATH_VAR="${HOME}/${APP_NAME}/config"
COMPLEX="${PROTOCOL:-https}://${HOST:-localhost}:${PORT:-8080}/${PATH:-api}"

# Escape sequences in interpolation
ESCAPED="User: ${USER}\nHome: ${HOME}"
TAB_SEPARATED="${COL1}\t${COL2}\t${COL3}"

# Edge cases
EMPTY_VAR="${}"
UNCLOSED="${USER"
INVALID_SYNTAX="${USER-}"
DOLLAR_ONLY="$"
BRACE_ONLY="{"
NO_INTERPOLATION='${USER} will not be interpolated'

# Multiple interpolations
MULTI="Start ${VAR1} middle ${VAR2} end ${VAR3}"
ADJACENT="${VAR1}${VAR2}${VAR3}"

# Interpolation with spaces
SPACED="${ USER }"  # Should this work?
EXPR_LIKE="${USER + 1}"  # Not expression evaluation

# Real-world examples
DATABASE_URL="postgresql://${DB_USER}:${DB_PASS}@${DB_HOST}:${DB_PORT}/${DB_NAME}"
REDIS_URL="redis://${REDIS_HOST:-localhost}:${REDIS_PORT:-6379}/${REDIS_DB:-0}"
MONGODB_URI="mongodb://${MONGO_USER}:${MONGO_PASS}@${MONGO_HOST}/${MONGO_DB}"